import{d as B,o as n,c as l,F as g,r as E,a as v,b as T,n as I,t as w,p as x,e as O,f as p,g as U,h as W,i as z,w as Z,T as J,j as N,k as D,l as Q}from"./vendor.206afc82.js";const X=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=c(e);fetch(e.href,a)}};X();const P=" Using word of the day instead.";function Y(){if(location.search)try{const e=atob(location.search.slice(1));if(e.length!==5)alert(`Incorrect word length from encoded query. ${P}`);else return e}catch{alert(`Malformed encoded word query. ${P}`)}const t=new Date,u=new Date(2022,0,0),c=Number(t)-Number(u);let o=Math.floor(c/(1e3*60*60*24));for(;o>y.length;)o-=y.length;return y[o]}const y=["ulbar","hiril","percy","mages","mines","gimli","quest","woods","bifur","moria","eomer","eowyn","ugluk","uruks","tales","bards","drogo","hurin","valar","eldar","rider","grima","kasem","celon","eyrie","beril","maiar","bilbo","anwar","brown","sting","lords","frodo","celos","magic","sword","arwen","elves","basso","barad","boron","spell","harad","staff","wargs","elven","misty","ungol","white","rohan","talan","realm","bungo","horse","dwarf","narya","downs","daisy","indor","smaug","wyrms","gloin","durin","gorge","siege","ainur","istar","balin","anson","shire","ogres","troll","kings","abyss","tower","meara","rings","urwen","parth","minas"],ee=y,te=[...y,...ee];var j=(t,u)=>{const c=t.__vccOpts||t;for(const[o,e]of u)c[o]=e;return c};const re=t=>(x("data-v-a7ac7f5c"),t=t(),O(),t),se={id:"keyboard"},ae={class:"row"},oe={key:0,class:"spacer"},ne=["onClick"],le={key:0},ie={key:1,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},ue=re(()=>v("path",{fill:"currentColor",d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"},null,-1)),ce=[ue],de={key:1,class:"spacer"},fe=B({props:{letterStates:null},emits:["key"],setup(t){const u=["qwertyuiop".split(""),"asdfghjkl".split(""),["Enter",..."zxcvbnm".split(""),"Backspace"]];return(c,o)=>(n(),l("div",se,[(n(),l(g,null,E(u,(e,a)=>v("div",ae,[a===1?(n(),l("div",oe)):T("",!0),(n(!0),l(g,null,E(e,d=>(n(),l("button",{class:I([d.length>1&&"big",t.letterStates[d]]),onClick:b=>c.$emit("key",d)},[d!=="Backspace"?(n(),l("span",le,w(d),1)):(n(),l("svg",ie,ce))],10,ne))),256)),a===1?(n(),l("div",de)):T("",!0)])),64))]))}});var ve=j(fe,[["__scopeId","data-v-a7ac7f5c"]]),f;(function(t){t[t.INITIAL=0]="INITIAL",t.CORRECT="correct",t.PRESENT="present",t.ABSENT="absent"})(f||(f={}));const G=t=>(x("data-v-5d6a73ca"),t=t(),O(),t),pe={key:0,class:"message"},he={key:0},me=G(()=>v("header",null,[v("h1",null,"GANDARFLE"),v("a",{id:"source-link",href:"https://github.com/max-radin/vue-wordle",target:"_blank"},"Source")],-1)),_e={id:"board"},ge=G(()=>v("div",{id:"footer"},[N(" Inspired by "),v("a",{href:"https://www.powerlanguage.co.uk/wordle/",target:"_blank"},"Wordle"),N(" and "),v("a",{href:"https://digitaltolkien.github.io/vue-wordle/",target:"_blank"},"Lordle of the Rings"),N(". ")],-1)),we=B({setup(t){const u=Y(),c=p(Array.from({length:6},()=>Array.from({length:5},()=>({letter:"",state:f.INITIAL}))));let o=p(0);const e=U(()=>c.value[o.value]);let a=p(""),d=p(""),b=p(-1),L=p(!1);const h=p({});let R=!0;const S=r=>A(r.key);window.addEventListener("keyup",S),W(()=>{window.removeEventListener("keyup",S)});function A(r){!R||(/^[a-zA-Z]$/.test(r)?q(r.toLowerCase()):r==="Backspace"?F():r==="Enter"&&K())}function q(r){for(const i of e.value)if(!i.letter){i.letter=r;break}}function F(){for(const r of[...e.value].reverse())if(r.letter){r.letter="";break}}function K(){if(e.value.every(r=>r.letter)){const r=e.value.map(s=>s.letter).join("");if(!te.includes(r)&&r!==u){$(),k("Not in word list");return}const i=u.split("");e.value.forEach((s,m)=>{i[m]===s.letter&&(s.state=h.value[s.letter]=f.CORRECT,i[m]=null)}),e.value.forEach(s=>{!s.state&&i.includes(s.letter)&&(s.state=f.PRESENT,i[i.indexOf(s.letter)]=null,h.value[s.letter]||(h.value[s.letter]=f.PRESENT))}),e.value.forEach(s=>{s.state||(s.state=f.ABSENT,h.value[s.letter]||(h.value[s.letter]=f.ABSENT))}),R=!1,e.value.every(s=>s.state===f.CORRECT)?setTimeout(()=>{d.value=H(),k(["Genius","Magnificent","Impressive","Splendid","Great","Phew"][o.value],-1),L.value=!0},1600):o.value<c.value.length-1?(o.value++,setTimeout(()=>{R=!0},1600)):setTimeout(()=>{k(u.toUpperCase(),-1)},1600)}else $(),k("Not enough letters")}function k(r,i=1e3){a.value=r,i>0&&setTimeout(()=>{a.value=""},i)}function $(){b.value=o.value,setTimeout(()=>{b.value=-1},1e3)}const V={[f.CORRECT]:"\u{1F7E9}",[f.PRESENT]:"\u{1F7E8}",[f.ABSENT]:"\u2B1C",[f.INITIAL]:null};function H(){return c.value.slice(0,o.value+1).map(r=>r.map(i=>V[i.state]).join("")).join(`
`)}return(r,i)=>(n(),l(g,null,[z(J,null,{default:Z(()=>[a.value?(n(),l("div",pe,[N(w(a.value)+" ",1),d.value?(n(),l("pre",he,w(d.value),1)):T("",!0)])):T("",!0)]),_:1}),me,v("div",_e,[(n(!0),l(g,null,E(c.value,(s,m)=>(n(),l("div",{class:I(["row",b.value===m&&"shake",L.value&&o.value===m&&"jump"])},[(n(!0),l(g,null,E(s,(_,C)=>(n(),l("div",{class:I(["tile",_.letter&&"filled",_.state&&"revealed"])},[v("div",{class:"front",style:D({transitionDelay:`${C*300}ms`})},w(_.letter),5),v("div",{class:I(["back",_.state]),style:D({transitionDelay:`${C*300}ms`,animationDelay:`${C*100}ms`})},w(_.letter),7)],2))),256))],2))),256))]),z(ve,{onKey:A,"letter-states":h.value},null,8,["letter-states"]),ge],64))}});var ye=j(we,[["__scopeId","data-v-5d6a73ca"]]);window.addEventListener("resize",M);M();function M(){document.body.style.setProperty("--vh",window.innerHeight+"px")}Q(ye).mount("#app");
