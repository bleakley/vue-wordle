import{d as z,o as l,c as i,F as w,r as E,a as f,b as m,n as T,t as y,p as D,e as P,f as h,g as J,h as Q,i as j,w as X,T as Y,j as C,u as ee,k as q,l as te}from"./vendor.b7083f46.js";const re=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))v(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&v(s)}).observe(document,{childList:!0,subtree:!0});function d(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function v(r){if(r.ep)return;r.ep=!0;const o=d(r);fetch(r.href,o)}};re();const M=" Using word of the day instead.";function oe(){const e=new Date,n=new Date(2022,1,5),d=Number(e)-Number(n);return Math.floor(d/(1e3*60*60*24))}function ae(e){if(location.search)try{const n=atob(location.search.slice(1));if(n.length!==5)alert(`Incorrect word length from encoded query. ${M}`);else return n}catch{alert(`Malformed encoded word query. ${M}`)}for(;e>I.length;)e-=I.length;return I[e]}const I=["arwen","gimli","quest","woods","moria","eomer","eowyn","tales","hurin","valar","eldar","rider","grima","eyrie","maiar","bilbo","brown","sting","frodo","elves","nenya","barad","spell","harad","wargs","elven","misty","ungol","white","rohan","realm","dwarf","narya","downs","smaug","wyrms","gloin","durin","siege","ainur","istar","balin","shire","ogres","troll","kings","abyss","tower","rings","minas","queen","vilya","witch","merry","umbar","eagle"],se=["kasem","endor","beorn","thain","meara","bungo","uruks","boron","drogo","ulbar","hiril","percy","huorn","uinen","celos","bifur","ugluk","anson","erech","khand","daisy","indor","talan","urwen","parth","arnor","freda","beril","celon","anwar","aldor","brego","folca","melko","shade","argon","finwe","elros","andor","siril","poros","serni","narog","celon","rivil","indis","manwe","thror","basso"],ne=[...I,...se];var F=(e,n)=>{const d=e.__vccOpts||e;for(const[v,r]of n)d[v]=r;return d};const le=e=>(D("data-v-a7ac7f5c"),e=e(),P(),e),ie={id:"keyboard"},ue={class:"row"},ce={key:0,class:"spacer"},de=["onClick"],fe={key:0},ve={key:1,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},he=le(()=>f("path",{fill:"currentColor",d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"},null,-1)),pe=[he],me={key:1,class:"spacer"},_e=z({props:{letterStates:null},emits:["key"],setup(e){const n=["qwertyuiop".split(""),"asdfghjkl".split(""),["Enter",..."zxcvbnm".split(""),"Backspace"]];return(d,v)=>(l(),i("div",ie,[(l(),i(w,null,E(n,(r,o)=>f("div",ue,[o===1?(l(),i("div",ce)):m("",!0),(l(!0),i(w,null,E(r,s=>(l(),i("button",{class:T([s.length>1&&"big",e.letterStates[s]]),onClick:b=>d.$emit("key",s)},[s!=="Backspace"?(l(),i("span",fe,y(s),1)):(l(),i("svg",ve,pe))],10,de))),256)),o===1?(l(),i("div",me)):m("",!0)])),64))]))}});var ge=F(_e,[["__scopeId","data-v-a7ac7f5c"]]),c;(function(e){e[e.INITIAL=0]="INITIAL",e.CORRECT="correct",e.PRESENT="present",e.ABSENT="absent"})(c||(c={}));const K=e=>(D("data-v-0bee39f0"),e=e(),P(),e),we={key:0,class:"message"},ye={id:"resultGrid"},be={key:0},ke=K(()=>f("header",null,[f("h1",null,"GANDARFLE"),f("a",{id:"source-link",href:"https://github.com/max-radin/vue-wordle",target:"_blank"},"Source")],-1)),Ee={id:"board"},Te=K(()=>f("div",{id:"footer"},[C(" Inspired by "),f("a",{href:"https://www.powerlanguage.co.uk/wordle/",target:"_blank"},"Wordle"),C(" and "),f("a",{href:"https://digitaltolkien.github.io/vue-wordle/",target:"_blank"},"Lordle of the Rings"),C(". ")],-1)),Ce=z({setup(e){const n=oe(),d=ae(n);let v=h(!1);const r=h(Array.from({length:6},()=>Array.from({length:5},()=>({letter:"",state:c.INITIAL}))));let o=h(0);const s=J(()=>r.value[o.value]);let b=h(""),N=h(""),R=h(-1),$=h(!1);const p=h({});let S=!0;const A=t=>x(t.key);window.addEventListener("keyup",A),Q(()=>{window.removeEventListener("keyup",A)});function x(t){!S||(/^[a-zA-Z]$/.test(t)?H(t.toLowerCase()):t==="Backspace"?U():t==="Enter"&&W())}function H(t){for(const u of s.value)if(!u.letter){u.letter=t;break}}function U(){for(const t of[...s.value].reverse())if(t.letter){t.letter="";break}}function W(){if(s.value.every(t=>t.letter)){const t=s.value.map(a=>a.letter).join("");if(!ne.includes(t)&&t!==d){B(),k("Not in word list");return}const u=d.split("");s.value.forEach((a,_)=>{u[_]===a.letter&&(a.state=p.value[a.letter]=c.CORRECT,u[_]=null)}),s.value.forEach(a=>{!a.state&&u.includes(a.letter)&&(a.state=c.PRESENT,u[u.indexOf(a.letter)]=null,p.value[a.letter]||(p.value[a.letter]=c.PRESENT))}),s.value.forEach(a=>{a.state||(a.state=c.ABSENT,p.value[a.letter]||(p.value[a.letter]=c.ABSENT))}),S=!1,s.value.every(a=>a.state===c.CORRECT)?setTimeout(()=>{N.value=G(),k(["Genius","Magnificent","Impressive","Splendid","Great","Phew"][o.value],-1),$.value=!0},1600):o.value<r.value.length-1?(o.value++,setTimeout(()=>{S=!0},1600)):setTimeout(()=>{k(d.toUpperCase(),-1)},1600)}else B(),k("Not enough letters")}function k(t,u=1e3){b.value=t,u>0&&setTimeout(()=>{b.value=""},u)}function B(){R.value=o.value,setTimeout(()=>{R.value=-1},1e3)}const Z={[c.CORRECT]:"\u{1F7E9}",[c.PRESENT]:"\u{1F7E8}",[c.ABSENT]:"\u2B1C",[c.INITIAL]:null};function G(){return r.value.slice(0,o.value+1).map(t=>t.map(u=>Z[u.state]).join("")).join(`
`)}function O(){var t=document.createElement("textarea");document.body.appendChild(t);let u="Gandarfle #"+(n+1).toString()+`
`;t.value=u+G(),t.select(),document.execCommand("copy"),document.body.removeChild(t),v.value=!0}return(t,u)=>(l(),i(w,null,[j(Y,null,{default:X(()=>[b.value?(l(),i("div",we,[f("div",ye,[C(" Gandarfle #"+y(ee(n)+1)+" ",1),N.value?(l(),i("pre",be,y(N.value),1)):m("",!0)]),v.value?m("",!0):(l(),i("div",{key:0,class:"button",onClick:O},"Copy")),v.value?(l(),i("div",{key:1,onClick:O},"Copied!")):m("",!0)])):m("",!0)]),_:1}),ke,f("div",Ee,[(l(!0),i(w,null,E(r.value,(a,_)=>(l(),i("div",{class:T(["row",R.value===_&&"shake",$.value&&o.value===_&&"jump"])},[(l(!0),i(w,null,E(a,(g,L)=>(l(),i("div",{class:T(["tile",g.letter&&"filled",g.state&&"revealed"])},[f("div",{class:"front",style:q({transitionDelay:`${L*300}ms`})},y(g.letter),5),f("div",{class:T(["back",g.state]),style:q({transitionDelay:`${L*300}ms`,animationDelay:`${L*100}ms`})},y(g.letter),7)],2))),256))],2))),256))]),j(ge,{onKey:x,"letter-states":p.value},null,8,["letter-states"]),Te],64))}});var Ie=F(Ce,[["__scopeId","data-v-0bee39f0"]]);window.addEventListener("resize",V);V();function V(){document.body.style.setProperty("--vh",window.innerHeight+"px")}te(Ie).mount("#app");
